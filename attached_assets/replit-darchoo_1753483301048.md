# Real Estate Platform - Darchoo

## Overview

This is a modern real estate platform called "Darchoo.com" built with React, TypeScript, and Express.js. The application allows users to browse, search, and view property listings across Iran. It features a clean, responsive design with a focus on user experience and property discovery.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
The frontend is built with Next.js 15 and React 19, using the modern App Router. The application follows a component-based architecture with:
- **Framework**: Next.js 15 with App Router for file-based routing and server-side rendering
- **Routing**: Next.js App Router with nested layouts and dynamic routes
- **State Management**: React Query (TanStack Query) for server state management and caching
- **UI Components**: Shadcn/ui component library with Radix UI primitives
- **Styling**: Tailwind CSS with custom CSS variables for theming
- **Form Handling**: React Hook Form with Zod validation
- **Performance**: React 19 optimizations and Next.js built-in performance features

### Backend Architecture
The backend is an Express.js server with TypeScript that provides:
- **RESTful API**: Property search, retrieval, and management endpoints
- **In-Memory Storage**: Currently uses a memory-based storage implementation with sample data
- **Type Safety**: Shared TypeScript schemas between frontend and backend
- **Development Features**: Hot reload with Vite integration and request logging

### Data Storage
- **Current**: In-memory storage with sample property data
- **Configured For**: Mongodb with Prisma ORM (ready for database integration)
- **Schema**: Defined property and user models with full type safety

## Key Components

### Property Management
- Property listing with search and filtering capabilities
- Property details with image galleries and contact forms
- Featured properties section
- Category-based browsing (Villa, Apartment, Land, Commercial, Industrial)

### Search Functionality
- Advanced search with multiple filters (location, type, price range, bedrooms)
- URL-based search state management
- Search modal with form validation

### UI Components
- Responsive design with mobile-first approach
- Reusable component library (buttons, cards, forms, modals)
- Toast notifications for user feedback
- Loading states with skeleton components

### Navigation
- Sticky navigation bar with property type links
- Footer with contact information and additional links
- Breadcrumb navigation (components exist but not implemented in current pages)

## Data Flow

1. **Property Browsing**: Frontend fetches property data from `/api/properties` endpoints
2. **Search**: Form submissions trigger POST requests to `/api/properties/search` with filter criteria
3. **Property Details**: Individual properties fetched via `/api/properties/:id`
4. **Caching**: React Query handles response caching and background updates
5. **Error Handling**: Centralized error handling with user-friendly error messages

## External Dependencies

### Frontend Dependencies
- **React Query**: Server state management and caching
- **Wouter**: Lightweight routing library
- **React Hook Form**: Form state management and validation
- **Zod**: Runtime type validation
- **Tailwind CSS**: Utility-first CSS framework
- **Radix UI**: Accessible UI primitives
- **Lucide React**: Icon library

### Backend Dependencies
- **Next.js API**: Web application framework App Router API
- **Prisma ORM**: Database ORM and query builder
- **Neon Database**: Mongodb database service (configured but not active)
- **Zod**: Schema validation (shared with frontend)

### Development Tools
- **Vite**: Build tool and development server
- **TypeScript**: Type safety across the stack
- **ESBuild**: JavaScript bundler for production builds
- **Replit Plugins**: Development environment integration

## Deployment Strategy

### Development
- Uses Next.js development server with turbopack for fast hot module replacement
- Express API server runs separately on port 5000 with request logging
- Next.js frontend runs on port 3000 with automatic API proxying
- Shared TypeScript configuration for type checking across the stack

### Database Integration
- Prisma configuration ready for Mongodb connection
- Environment variable `DATABASE_URL` required for database operations

### Key Architectural Decisions

2. **Type Safety**: End-to-end TypeScript with shared schemas between client and server
3. **Modern Tooling**: Vite for fast development builds, React Query for efficient data fetching
4. **Component Library**: Shadcn/ui for consistent, accessible UI components
5. **In-Memory Storage**: Allows for immediate development without database setup, easily replaceable with real database
6. **URL-Based Search**: Search state persisted in URL for bookmarkable searches and better UX

## Recent Changes

### January 25, 2025
- **MAJOR ARCHITECTURAL CHANGE**: Migrated from React + Vite to Next.js 15
- Upgraded React to version 19 for latest features and performance improvements
- Restructured project to use Next.js App Router with app/ directory structure
- Updated TypeScript configuration for Next.js compatibility
- Removed Vite dependencies and configuration, simplified Express server
- Maintained all existing Persian localization and mobile-first design
- Converted routing from Wouter to Next.js navigation (useRouter, Link)
- Updated property detail page with Next.js compatible navigation hooks
- Added professional manager introduction banner to home page with photo and contact information
- Implemented mobile-first responsive design for the banner section with Persian RTL layout
- Enhanced home page with gradient background and professional styling
- Fixed SelectItem empty value prop error in search functionality
- Completely rebuilt search results page with improved mobile UX and Persian language support
